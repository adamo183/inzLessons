@inject DialogService DialogService
@inject IAllowedReservationServices allowedReservationServices
@inject ILocalStorageService localStorage

@using Blazored.LocalStorage;
@using inzLessons.Shared.AllowedReservation;
@using inzLessons.Client.Services;
@using  inzLessons.Shared.ReservationRequest;

<RadzenTemplateForm TItem="ReservationRequestDTO" Data="@model" Submit=@OnSubmit>
    <div class="row" style="margi n-bottom: 16px">
        <div class="col-md-3">
            <RadzenLabel Text="Dzień" />
        </div>
        <div class="col">
            <RadzenDatePicker Value=@model.StartTime DateFormat="d" TValue="DateTime" Disabled="true" />
        </div>
    </div>
    <div class="row" style="margin-bottom: 16px">
        <div class="col-md-3">
            <RadzenLabel Text="Start" />
        </div>
        <div class="col">
            <RadzenDatePicker Name="Start" TValue="DateTime" ShowTime="true" @bind-Value="model.StartTime" TimeOnly="true" DateFormat="HH:mm" />
            <RadzenRequiredValidator Text="Pole wymagane" Component="Start" />
        </div>
    </div>
    <div class="row" style="margin-bottom: 16px">
        <div class="col-md-3">
            <RadzenLabel Text="Koniec" />
        </div>
        <div class="col">
            <RadzenDatePicker Name="End" TValue="DateTime" ShowTime="true" @bind-Value="model.EndTime" TimeOnly="true" DateFormat="HH:mm" />
            <RadzenRequiredValidator Component="End" Text="Pole wymagane" />
        </div>
    </div>
    <div class="row" style="margin-bottom: 16px">
        <div class="col-md-3">
            <RadzenLabel Text="Komentarz" />
        </div>
        <div class="col">
            <RadzenTextArea @bind-Value="model.Description" Class="w-100" />
        </div>
    </div>
    @if (WrongDateError)
    {
        <div class="row alert alert-danger" role="alert" style="margin-top:15px;">
            Godzina zakończenia nie może być mniejsza nić początek!
        </div>
    }
    @if (ToLongLessong)
    {
        <div class="row alert alert-danger" role="alert" style="margin-top:15px;">
            Przekroczono maksymalny czas zajęć który wynosi : @maxLessonTime h!
        </div>
    }
    <RadzenButton ButtonType="ButtonType.Submit" Text="Dodaj" />
</RadzenTemplateForm>

@code {

}
